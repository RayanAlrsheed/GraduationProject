<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>حفظ النعمة</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href={{ url_for('static', path='vendors/mdi/css/materialdesignicons.min.css') }}>
    <link rel="stylesheet" href={{ url_for('static', path='vendors/css/vendor.bundle.base.css') }}>
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <link rel="stylesheet" href={{ url_for('static', path='vendors/flag-icon-css/css/flag-icon.min.css') }}>
    <link rel="stylesheet" href={{ url_for('static', path='vendors/jvectormap/jquery-jvectormap.css') }}>
    <!-- End plugin css for this page -->
    <!-- Layout styles -->
    <link rel="stylesheet" href={{ url_for('static', path='css/demo/style.css') }}>
    <!-- End layout styles -->
    <!--    <link rel="shortcut icon" href={{ url_for('static', path='images/favicon.png') }}/>-->
</head>

<body>
<script src={{ url_for('static', path='js/preloader.js') }}></script>
<div class="body-wrapper">
    <!-- partial:partials/_sidebar.html -->
    <aside class="mdc-drawer mdc-drawer--dismissible mdc-drawer--open">
        <div class="mdc-drawer__header">
            <a href="/" class="brand-logo">
                <!--       replace logo
 Abdulrahman put logo here in "SRC" tag of image
 -->
                <img src={{ url_for('static', path='images/logo.jpeg') }} style="width: 60px;" alt="logo">
            </a>
        </div>
        <div class="mdc-drawer__content">
            <div class="user-info">
                <p class="name">حفظ النعمة</p>
            </div>
            <div class="mdc-list-group">
                <nav class="mdc-list mdc-drawer-menu">
                    <div class="mdc-list-item mdc-drawer-item">
                        <a class="mdc-drawer-link active" href="/">
                            <i class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon"
                               aria-hidden="true">home</i>
                            Dashboard
                        </a>
                    </div>
                    <div class="mdc-list-item mdc-drawer-item">
                        <a class="mdc-drawer-link" href="/menu">
                            <i class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon"
                               aria-hidden="true">track_changes</i>
                            Menu
                        </a>
                    </div>
                    <div class="mdc-list-item mdc-drawer-item">
                        <a class="mdc-drawer-link" href="/charity">
                            <i class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon"
                               aria-hidden="true">grid_on</i>
                            Charity
                        </a>
                    </div>
                    <div class="mdc-list-item mdc-drawer-item">
                        <a class="mdc-drawer-link" href="/sales">
                            <i class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon"
                                aria-hidden="true">grid_on</i>
                                Sales
                        </a>
                    </div>
                    <div class="mdc-list-item mdc-drawer-item">
                        <a class="mdc-drawer-link" href="/upload">
                            <i class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon"
                               aria-hidden="true">grid_on</i>
                            Upload Data
                        </a>
                    </div>
                    <div class="mdc-list-item mdc-drawer-item">
                        <a class="mdc-drawer-link" href="/settings">
                            <i class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon"
                               aria-hidden="true">pie_chart_outlined</i>
                            Settings
                        </a>
                    </div>
                    <div class="mdc-list-item mdc-drawer-item">
                        <a class="mdc-drawer-link" href="/logout">
                            <i class="material-icons mdc-list-item__start-detail mdc-drawer-item-icon"
                               aria-hidden="true">pie_chart_outlined</i>
                            Sign out
                        </a>
                    </div>
                </nav>
            </div>
        </div>
    </aside>
    <!-- partial -->
    <div class="main-wrapper mdc-drawer-app-content">
        <!-- partial:partials/_navbar.html -->
        <header class="mdc-top-app-bar">
            <div class="mdc-top-app-bar__row">
                <div class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
                    <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button sidebar-toggler">
                        menu
                    </button>
                    <span class="mdc-top-app-bar__title">Greetings {{first_name}}!</span>
                    <!--                    <div-->
                    <!--                        class="mdc-text-field mdc-text-field&#45;&#45;outlined mdc-text-field&#45;&#45;with-leading-icon search-text-field d-none d-md-flex">-->
                    <!--                        <i class="material-icons mdc-text-field__icon">search</i>-->
                    <!--                        <input class="mdc-text-field__input" id="text-field-hero-input">-->
                    <!--                        <div class="mdc-notched-outline">-->
                    <!--                            <div class="mdc-notched-outline__leading"></div>-->
                    <!--                            <div class="mdc-notched-outline__notch">-->
                    <!--                                <label for="text-field-hero-input" class="mdc-floating-label">Search..</label>-->
                    <!--                            </div>-->
                    <!--                            <div class="mdc-notched-outline__trailing"></div>-->
                    <!--                        </div>-->
                    <!--                    </div>-->
                </div>
                <div
                    class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end mdc-top-app-bar__section-right">
                    <div class="menu-button-container menu-profile d-none d-md-block">
                        <button class="mdc-button mdc-menu-button">
                                <span class="d-flex align-items-center">
                                    <span class="figure">
                                        <!--                    <img src={{ url_for('static', path='images/faces/face1.jpg') }} alt="user" class="user">-->
                                    </span>
                                    <span class="user-name">{{first_name}} {{last_name}}</span>
                                </span>
                        </button>
                        <!--                        <div class="mdc-menu mdc-menu-surface" tabindex="-1">-->
                        <!--                            <ul class="mdc-list" role="menu" aria-hidden="true" aria-orientation="vertical">-->
                        <!--                                <li class="mdc-list-item" role="menuitem">-->
                        <!--                                    <div class="item-thumbnail item-thumbnail-icon-only">-->
                        <!--                                        <i class="mdi mdi-account-edit-outline text-primary"></i>-->
                        <!--                                    </div>-->
                        <!--                                    <div-->
                        <!--                                        class="item-content d-flex align-items-start flex-column justify-content-center">-->
                        <!--                                        <h6 class="item-subject font-weight-normal">Edit profile</h6>-->
                        <!--                                    </div>-->
                        <!--                                </li>-->
                        <!--                                <li class="mdc-list-item" role="menuitem">-->
                        <!--                                    <div class="item-thumbnail item-thumbnail-icon-only">-->
                        <!--                                        <i class="mdi mdi-settings-outline text-primary"></i>-->
                        <!--                                    </div>-->
                        <!--                                    <div-->
                        <!--                                        class="item-content d-flex align-items-start flex-column justify-content-center">-->
                        <!--                                        <h6 class="item-subject font-weight-normal">Logout</h6>-->
                        <!--                                    </div>-->
                        <!--                                </li>-->
                        <!--                            </ul>-->
                        <!--                        </div>-->
                    </div>
                    <div class="divider d-none d-md-block"></div>
                    <div class="menu-button-container d-none d-md-block">
                        <!--                        <button class="mdc-button mdc-menu-button">-->
                        <!--                            <i class="mdi mdi-settings"></i>-->
                        <!--                        </button>-->
                        <!--                        <div class="mdc-menu mdc-menu-surface" tabindex="-1">-->
                        <!--                            <ul class="mdc-list" role="menu" aria-hidden="true" aria-orientation="vertical">-->
                        <!--                                <li class="mdc-list-item" role="menuitem">-->
                        <!--                                    <div class="item-thumbnail item-thumbnail-icon-only">-->
                        <!--                                        <i class="mdi mdi-alert-circle-outline text-primary"></i>-->
                        <!--                                    </div>-->
                        <!--                                    <div-->
                        <!--                                        class="item-content d-flex align-items-start flex-column justify-content-center">-->
                        <!--                                        <h6 class="item-subject font-weight-normal">Settings</h6>-->
                        <!--                                    </div>-->
                        <!--                                </li>-->
                        <!--                                <li class="mdc-list-item" role="menuitem">-->
                        <!--                                    <div class="item-thumbnail item-thumbnail-icon-only">-->
                        <!--                                        <i class="mdi mdi-progress-download text-primary"></i>-->
                        <!--                                    </div>-->
                        <!--                                    <div-->
                        <!--                                        class="item-content d-flex align-items-start flex-column justify-content-center">-->
                        <!--                                        <h6 class="item-subject font-weight-normal">Update</h6>-->
                        <!--                                    </div>-->
                        <!--                                </li>-->
                        <!--                            </ul>-->
                        <!--                        </div>-->
                        <!--                    </div>-->
                        <!--                    <div class="menu-button-container">-->
                        <!--                        <button class="mdc-button mdc-menu-button">-->
                        <!--                            <i class="mdi mdi-bell"></i>-->
                        <!--                        </button>-->
                        <!--                        <div class="mdc-menu mdc-menu-surface" tabindex="-1">-->
                        <!--                            <h6 class="title"><i class="mdi mdi-bell-outline mr-2 tx-16"></i> Notifications</h6>-->
                        <!--                            <ul class="mdc-list" role="menu" aria-hidden="true" aria-orientation="vertical">-->
                        <!--                                <li class="mdc-list-item" role="menuitem">-->
                        <!--                                    <div class="item-thumbnail item-thumbnail-icon">-->
                        <!--                                        <i class="mdi mdi-email-outline"></i>-->
                        <!--                                    </div>-->
                        <!--                                    <div-->
                        <!--                                        class="item-content d-flex align-items-start flex-column justify-content-center">-->
                        <!--                                        <h6 class="item-subject font-weight-normal">You received a new message</h6>-->
                        <!--                                        <small class="text-muted"> 6 min ago </small>-->
                        <!--                                    </div>-->
                        <!--                                </li>-->
                        <!--                                <li class="mdc-list-item" role="menuitem">-->
                        <!--                                    <div class="item-thumbnail item-thumbnail-icon">-->
                        <!--                                        <i class="mdi mdi-account-outline"></i>-->
                        <!--                                    </div>-->
                        <!--                                    <div-->
                        <!--                                        class="item-content d-flex align-items-start flex-column justify-content-center">-->
                        <!--                                        <h6 class="item-subject font-weight-normal">New user registered</h6>-->
                        <!--                                        <small class="text-muted"> 15 min ago </small>-->
                        <!--                                    </div>-->
                        <!--                                </li>-->
                        <!--                                <li class="mdc-list-item" role="menuitem">-->
                        <!--                                    <div class="item-thumbnail item-thumbnail-icon">-->
                        <!--                                        <i class="mdi mdi-alert-circle-outline"></i>-->
                        <!--                                    </div>-->
                        <!--                                    <div-->
                        <!--                                        class="item-content d-flex align-items-start flex-column justify-content-center">-->
                        <!--                                        <h6 class="item-subject font-weight-normal">System Alert</h6>-->
                        <!--                                        <small class="text-muted"> 2 days ago </small>-->
                        <!--                                    </div>-->
                        <!--                                </li>-->
                        <!--                                <li class="mdc-list-item" role="menuitem">-->
                        <!--                                    <div class="item-thumbnail item-thumbnail-icon">-->
                        <!--                                        <i class="mdi mdi-update"></i>-->
                        <!--                                    </div>-->
                        <!--                                    <div-->
                        <!--                                        class="item-content d-flex align-items-start flex-column justify-content-center">-->
                        <!--                                        <h6 class="item-subject font-weight-normal">You have a new update</h6>-->
                        <!--                                        <small class="text-muted"> 3 days ago </small>-->
                        <!--                                    </div>-->
                        <!--                                </li>-->
                        <!--                            </ul>-->
                        <!--                        </div>-->
                        <!--                    </div>-->
                        <!--                    <div class="menu-button-container">-->
                        <!--                        <button class="mdc-button mdc-menu-button">-->
                        <!--                            <i class="mdi mdi-email"></i>-->
                        <!--                            <span class="count-indicator">-->
                        <!--                  <span class="count">3</span>-->
                        <!--                </span>-->
                        <!--                        </button>-->
                        <!--                        <div class="mdc-menu mdc-menu-surface" tabindex="-1">-->
                        <!--                            <h6 class="title"><i class="mdi mdi-email-outline mr-2 tx-16"></i> Messages</h6>-->
                        <!--                            <ul class="mdc-list" role="menu" aria-hidden="true" aria-orientation="vertical">-->
                        <!--                                <li class="mdc-list-item" role="menuitem">-->
                        <!--                                    <div class="item-thumbnail">-->
                        <!--                                        <img src={{ url_for('static', path='images/faces/face4.jpg') }} alt="user">-->
                        <!--                                    </div>-->
                        <!--                                    <div-->
                        <!--                                        class="item-content d-flex align-items-start flex-column justify-content-center">-->
                        <!--                                        <h6 class="item-subject font-weight-normal">Mark send you a message</h6>-->
                        <!--                                        <small class="text-muted"> 1 Minutes ago </small>-->
                        <!--                                    </div>-->
                        <!--                                </li>-->
                        <!--                                <li class="mdc-list-item" role="menuitem">-->
                        <!--                                    <div class="item-thumbnail">-->
                        <!--                                        <img src={{ url_for('static', path='images/faces/face2.jpg') }} alt="user">-->
                        <!--                                    </div>-->
                        <!--                                    <div-->
                        <!--                                        class="item-content d-flex align-items-start flex-column justify-content-center">-->
                        <!--                                        <h6 class="item-subject font-weight-normal">Cregh send you a message</h6>-->
                        <!--                                        <small class="text-muted"> 15 Minutes ago </small>-->
                        <!--                                    </div>-->
                        <!--                                </li>-->
                        <!--                                <li class="mdc-list-item" role="menuitem">-->
                        <!--                                    <div class="item-thumbnail">-->
                        <!--                                        <img src={{ url_for('static', path='images/faces/face3.jpg') }} alt="user">-->
                        <!--                                    </div>-->
                        <!--                                    <div-->
                        <!--                                        class="item-content d-flex align-items-start flex-column justify-content-center">-->
                        <!--                                        <h6 class="item-subject font-weight-normal">Profile picture updated</h6>-->
                        <!--                                        <small class="text-muted"> 18 Minutes ago </small>-->
                        <!--                                    </div>-->
                        <!--                                </li>-->
                        <!--                            </ul>-->
                        <!--                        </div>-->
                        <!--                    </div>-->
                        <!--                    <div class="menu-button-container d-none d-md-block">-->
                        <!--                        <button class="mdc-button mdc-menu-button">-->
                        <!--                            <i class="mdi mdi-arrow-down-bold-box"></i>-->
                        <!--                        </button>-->
                        <!--                        <div class="mdc-menu mdc-menu-surface" tabindex="-1">-->
                        <!--                            <ul class="mdc-list" role="menu" aria-hidden="true" aria-orientation="vertical">-->
                        <!--                                <li class="mdc-list-item" role="menuitem">-->
                        <!--                                    <div class="item-thumbnail item-thumbnail-icon-only">-->
                        <!--                                        <i class="mdi mdi-lock-outline text-primary"></i>-->
                        <!--                                    </div>-->
                        <!--                                    <div-->
                        <!--                                        class="item-content d-flex align-items-start flex-column justify-content-center">-->
                        <!--                                        <h6 class="item-subject font-weight-normal">Lock screen</h6>-->
                        <!--                                    </div>-->
                        <!--                                </li>-->
                        <!--                                <li class="mdc-list-item" role="menuitem">-->
                        <!--                                    <div class="item-thumbnail item-thumbnail-icon-only">-->
                        <!--                                        <i class="mdi mdi-logout-variant text-primary"></i>-->
                        <!--                                    </div>-->
                        <!--                                    <div-->
                        <!--                                        class="item-content d-flex align-items-start flex-column justify-content-center">-->
                        <!--                                        <h6 class="item-subject font-weight-normal">Logout</h6>-->
                        <!--                                    </div>-->
                        <!--                                </li>-->
                        <!--                            </ul>-->
                        <!--                        </div>-->
                        <!--                    </div>-->
                    </div>
                </div>
        </header>
        <!-- partial -->
        <div class="page-wrapper mdc-toolbar-fixed-adjust">
            <main class="content-wrapper">
                <div class="container">
                    <div class="d-flex justify-content-between">
                        <div class="w-50">
                            <canvas id="month-chart"></canvas>
                        </div>

                        <div class="w-50">
                            <canvas id="week-chart"></canvas>
                        </div>
                    </div>
                </div>
                {% if ingredients %}
                <div class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-12 mt-5">
                    <div class="mdc-card p-0">
                        <h6 class="card-title card-padding pb-0 w-50" sytle="padding-right: 0%">Recommendation</h6>
                        <h6 class="text-right mr-3" style="font-weight:normal;">2022-10-22</h6>
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th class="text-left w-50">Ingredient</th>
                                        <th class="text-left w-50">Needed</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for ingredient in ingredients %}
                                    <tr>
                                        <td class="text-left">{{ ingredient.name}}</td>
                                        <td class="text-left">{{ingredient.quantity}} {{ingredient.unit}}</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                {% endif %}
                <div class="w-100 mt-3">
                    Did you upload your sales? 
                    <br>
                    <form action="/api/predict" method="post">
                    <button class="mdc-button mdc-button--raised justify-content-center mt-3" style="margin-left: auto;">
                        Recommend
                    </button>
                    </form>
                </div>
            </main>
            <!-- partial:partials/_footer.html -->
            <!-- partial -->
        </div>
    </div>
</div>
<!-- plugins:js -->
<script src={{ url_for('static', path='vendors/js/vendor.bundle.base.js') }}></script>
<!-- endinject -->
<!-- Plugin js for this page-->
<script src={{ url_for('static', path='vendors/chartjs/Chart.min.js') }}></script>
<script src={{ url_for('static', path='vendors/jvectormap/jquery-jvectormap.min.js') }}></script>
<script src={{ url_for('static', path='vendors/jvectormap/jquery-jvectormap-world-mill-en.js') }}></script>
<!-- End plugin js for this page-->
<!-- inject:js -->
<script src={{ url_for('static', path='js/material.js') }}></script>
<script src={{ url_for('static', path='js/misc.js') }}></script>
<!-- endinject -->
<!-- Custom js for this page-->
<script src={{ url_for('static', path='js/dashboard.js') }}></script>
<!-- End custom js for this page-->
</body>
<script>

    new Chart(document.getElementById("month-chart"), {
        type: 'line',
        data: {
            labels: {{monthly_labels|tojson}},
            datasets: [{
                label: "Monthly Sales",
                data: {% if monthly_sales|string  != "[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]" %}{{monthly_sales}}{% else %}[] {% endif %}, // Rayan pass data here
                borderColor: "#3e95cd",
                //fill: false
            },
            ]
        },
    });

    let colors = ["#932423", "#293244", "#A474DC", "#573932", "#3e95cd"]
    let x = 0
    new Chart(document.getElementById("week-chart"), {
        type: 'line',
        data: {
            labels: {{weekly_labels|tojson}},
            datasets: [
                {% for element in weekly_sales %}
                {
                    // Here is you pass mail name
                    // example : Pasta , Burger ,
                label: "{{element.element_id}}",
                data: {{element.sales}}, // Rayan pass data here from DB
                borderColor: colors[x++], // you can define the color what you want
                fill: false // Rayan you can remove this if you want to fill the color
            },
            {% endfor %}

                
                
            ]
        },

    });

</script>
</html>
